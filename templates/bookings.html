{% extends 'base.html' %}
{% block body %}
 

<div class="container mt-4">
  <h2 class="mb-4">My Vehicle Bookings</h2>
  
  {% if bookings %}
 
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>Vehicle</th>
          <th>Booked By (Farmer)</th>
          <th>Phone Number</th>  
          <th>Booking Date</th>
          <th>Duration (Days)</th>
          <th>Total Amount</th>
        </tr>
      </thead>
      <tbody>
        {% for booking in bookings %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ booking.vehicle.Vehicle_name }}</td>
          <td>{{ booking.farmer.username }}</td>
          <td>{{ booking.farmer.userprofile.phone }}</td> <!-- ðŸ“ž Show farmer phone -->
          <td>{{ booking.booking_date }}</td>
          <td>{{ booking.duration }}</td>
          <td>â‚¹{{ booking.total_amount }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
   



  {% else %}
    <p>No bookings found for your vehicles.</p>
  {% endif %}
</div> 
{% endblock %}



<!-- 
{% for booking in bookings %}
  <div class="booking-card">
    <h3>Vehicle: {{ booking.vehicle.Vehicle_name }}</h3>
    <p>Farmer: {{ booking.farmer.username }}</p>
    {% with profile=booking.farmer.userprofile %}
      <p>ðŸ“ž Phone: {{ profile.phone }}</p>
      <p>ðŸ“§ Email: {{ profile.email }}</p>
    {% endwith %}
    <p>Booking Date: {{ booking.booking_date }}</p>
    <p>Duration: {{ booking.duration }} days</p>
    <p>Total Amount: â‚¹{{ booking.total_amount }}</p>
    <hr>
  </div>
{% endfor %} -->